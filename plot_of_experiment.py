# -*- coding: utf-8 -*-
"""Plot of experiment

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1HxDu_4JIkhngioYbAni0d-E6jFqX6BGB
"""

import pandas as pd
import plotly.graph_objects as go

# Load the data
data = pd.DataFrame({
    "Method": ["Retrain", "GA", "GD", "SCRUB", "Slide", "salUN"],
    "EM_Val": [80.2, 77, 79.8, 80.1, 80.6, 79.2],
    "F1_Val": [88, 86.1, 87.7, 87.8, 88.1, 87.4],
    "EM_Forget": [69, 78.8, 73.1, 77.8, 84.4, 72.9],
    "F1_Forget": [82.1, 89.8, 85, 87.5, 93.3, 84.8],
    "MIA": [51, 44, 48, 46, 50, 46],
    "RTE_scaled": [100, 4.5, 37.5, 50, 37.5, 40]
})

# Rescale the data using max-min = 100, ensuring Retrain is the minimum
# add back to set retrain = 100 linearly
for col in data.columns[1:]:
    data[col] = (data[col] - data[col].min()) / (data[col].max() - data[col].min()) * 100
    data[col] = data[col] + (100 - data.loc[data["Method"] == "Retrain", col].values[0])

print(data)

# Create the radar plot
fig = go.Figure()

for i, method in enumerate(data["Method"]):
    fig.add_trace(go.Scatterpolar(
        r=data.loc[i, data.columns[1:]],
        theta=data.columns[1:],
        fill=None,
        name=method
    ))

fig.update_layout(
    polar=dict(
        radialaxis=dict(
            visible=True,
            range=[0, 200]
        )),
    showlegend=True
)

fig.show()